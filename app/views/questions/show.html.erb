<h1><%= @question.title %></h1>

<p><%= @question.body %></p>
<p><%= @question.created_at %></p>

<%= link_to "Edit", edit_question_path(@question) %>
<%= link_to "Delete", question_path(@question), method: :delete, data: { confirm: "Are you sure?" } %>

<h2>Answers:</h2>

<%# Because we're creating a new answer we need a POST '/questions/:question_id/answers %>
<%# So we must provide the question and answer instance %>
<%= form_with(model: [@question, @answer], local: true) do |f| %>
  <%= f.text_area(
    :body,
    cols: 50,
    rows: 5,
    placeholder: "What's your answer?"
  )%>
  <%= f.submit "Answer" %>
<% end %>

<ul>
  <% @answers.each do |a| %>
    <li>
      <p><%= a.body %></p>
      <%# question_answer_path(@question, a) => "/questions/:question_id/answers/:id" %>
      <%= link_to(
        "Delete",
        question_answer_path(@question, a),
        method: :delete,
        data: {
          confirm: "are you sure you want to delete this answer?"
        }
      )%>
    </li>
  <% end %>
</ul>